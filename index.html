<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Server Control</title>
    <style>
        :root {
            --bg: #0f172a;
            --card: #1e293b;
            --text: #f8fafc;
            --green: #22c55e;
            --red: #ef4444;
            --blue: #3b82f6;
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            background: var(--card);
            padding: 2.5rem;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 400px;
            text-align: center;
        }

        h1 { font-size: 1.8rem; margin-bottom: 0.5rem; color: var(--text); }
        p.subtitle { color: #94a3b8; font-size: 0.9rem; margin-bottom: 2rem; }

        .input-box { text-align: left; margin-bottom: 1.5rem; }
        label { display: block; font-size: 0.8rem; margin-bottom: 6px; color: #94a3b8; text-transform: uppercase; }
        
        input {
            width: 100%;
            padding: 14px;
            border-radius: 12px;
            border: 1px solid #334155;
            background: #0f172a;
            color: white;
            font-size: 1rem;
            box-sizing: border-box;
            transition: all 0.3s;
        }
        input:focus { border-color: var(--blue); outline: none; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); }

        .btns { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

        .btn {
            padding: 16px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.2s;
            color: white;
        }

        .btn:active { transform: scale(0.95); }
        .btn:disabled { opacity: 0.4; cursor: not-allowed; }

        .btn-start { background: var(--green); box-shadow: 0 4px 15px rgba(34, 197, 94, 0.3); }
        .btn-stop { background: var(--red); box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3); }

        #status {
            margin-top: 1.5rem;
            padding: 12px;
            border-radius: 12px;
            background: rgba(15, 23, 42, 0.5);
            font-size: 0.9rem;
            min-height: 20px;
            line-height: 1.4;
        }

        .pulse { animation: pulse-animation 2s infinite; }
        @keyframes pulse-animation { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body>

<div class="container">
    <h1>Minecraft Server</h1>
    <p class="subtitle">–£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º</p>
    
    <div class="input-box">
        <input type="password" id="pass" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
    </div>

    <div class="btns">
        <button id="b1" class="btn btn-start" onclick="run('start')">–°—Ç–∞—Ä—Ç</button>
        <button id="b2" class="btn btn-stop" onclick="run('stop')">–°—Ç–æ–ø</button>
    </div>

    <div id="status">–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞</div>
</div>

<script>
    // –¢–≤–æ—è –∞–∫—Ç–∏–≤–Ω–∞—è —Å—Å—ã–ª–∫–∞ Cloudflare-------------------------------------------------------------------------------------------------------------------------------------
    const API_URL = 'https://dash-dim-herbal-arms.trycloudflare.com';

    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–∞—Ä–æ–ª—å –∏–∑ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞
    document.getElementById('pass').value = localStorage.getItem('mc_key') || '';

    async function run(cmd) {
        const passInput = document.getElementById('pass');
        const status = document.getElementById('status');
        const btn1 = document.getElementById('b1');
        const btn2 = document.getElementById('b2');

        if (!passInput.value) {
            log("–ù—É–∂–µ–Ω –ø–∞—Ä–æ–ª—å!", "#ef4444");
            return;
        }

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
        localStorage.setItem('mc_key', passInput.value);

        // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
        btn1.disabled = true;
        btn2.disabled = true;
        log(cmd === 'start' ? "–ó–∞–ø—É—Å–∫–∞—é..." : "–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é...", "#3b82f6", true);

        try {
            const res = await fetch(`${API_URL}/${cmd}`, {
                method: 'POST',
                headers: { 'Authorization': passInput.value }
            });

            const data = await res.json();

            if (res.ok) {
                log("‚úÖ " + data.message, "#22c55e");
            } else {
                log("‚ùå –û—à–∏–±–∫–∞: " + data.message, "#ef4444");
            }
        } catch (e) {
            log("üì° –ù–µ—Ç —Å–≤—è–∑–∏ —Å –¥–æ–º–∞—à–Ω–∏–º –ü–ö. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Ç—É–Ω–Ω–µ–ª—å!", "#ef4444");
        } finally {
            btn1.disabled = false;
            btn2.disabled = false;
        }
    }

    function log(msg, color, pulsing = false) {
        const s = document.getElementById('status');
        s.innerText = msg;
        s.style.color = color;
        if (pulsing) s.classList.add('pulse');
        else s.classList.remove('pulse');
    }
</script>

</body>
</html>